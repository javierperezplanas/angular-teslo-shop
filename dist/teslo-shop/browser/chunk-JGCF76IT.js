import{a as _,b as c,c as E,d as N,e as j,f as H,g as P,i as Z,j as q,k as z,l as O,m as U}from"./chunk-63SUUJFE.js";import{$ as v,B as l,Ba as V,Ea as B,F as g,K as A,La as W,M as k,Ma as M,N as I,Na as y,Ra as G,S as d,T as e,U as t,V as m,Va as C,aa as T,fa as r,ha as D,ia as x,ja as w,ka as S,q as u,t as h,u as b,w as p}from"./chunk-KYHIJU4F.js";var L=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g({type:o,selectors:[["app-auth-layout"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"w-full","max-w-xs","bg-slate-100","shadow-2xl","rounded-lg","p-4"],[1,"text-2xl","font-montserrat","font-bold","text-secondary","text-center","mb-2"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),r(3," Autenticaci\xF3n "),t(),m(4,"router-outlet"),t()())},dependencies:[W],encapsulation:2})};function Q(o,a){o&1&&(e(0,"div",9),h(),e(1,"svg",12),m(2,"path",13),t(),b(),e(3,"span"),r(4,"Por favor revise la informacion ingresada!."),t()())}var R=class o{fb=u(z);hasError=p(!1);isPosting=p(!1);router=u(M);authService=u(C);loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]]});onSubmit(){if(this.loginForm.invalid){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3);return}let{email:a="",password:i=""}=this.loginForm.value;this.authService.login(a,i).subscribe(n=>{if(n){this.router.navigateByUrl("/");return}this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3)})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g({type:o,selectors:[["app-login-page"]],decls:17,vars:2,consts:[[1,"flex","flex-col","gap-2",3,"ngSubmit","formGroup"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","text","placeholder","Correo electr\xF3nico","formControlName","email",1,"grow"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","value","password","placeholder","Contrase\xF1a","formControlName","password",1,"grow"],["type","submit",1,"btn","btn-secondary"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","right-5","w-52"],[1,"text-slate-700"],["routerLink","/auth/register",1,"text-secondary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(i,n){i&1&&(e(0,"form",0),v("ngSubmit",function(){return n.onSubmit()}),e(1,"label",1),h(),e(2,"svg",2),m(3,"path",3)(4,"path",4),t(),b(),m(5,"input",5),t(),e(6,"label",1),h(),e(7,"svg",2),m(8,"path",6),t(),b(),m(9,"input",7),t(),e(10,"button",8),r(11," Login "),t(),k(12,Q,5,0,"div",9),e(13,"p",10),r(14," \xBFNo tienes cuenta? "),e(15,"a",11),r(16,"Crea una aqu\xED"),t()()()),i&2&&(d("formGroup",n.loginForm),l(12),I(n.hasError()?12:-1))},dependencies:[y,U,P,_,E,N,Z,q],encapsulation:2})};function X(o,a){if(o&1&&(e(0,"p",13),r(1),t()),o&2){let i=T();l(),D(" ",i.errorMessage()," ")}}function $(o,a){if(o&1&&(e(0,"p",14),r(1),t()),o&2){let i=T();l(),D(" ",i.successMessage()," ")}}var F=class o{authService=u(C);router=u(M);fullName="";email="";password="";errorMessage=p(null);successMessage=p(null);register(){this.errorMessage.set(null),this.successMessage.set(null),this.authService.register({fullName:this.fullName,email:this.email,password:this.password}).subscribe({next:()=>{this.successMessage.set("\u2705 Registrado con \xE9xito"),setTimeout(()=>this.router.navigate(["/auth/login"]),2e3)},error:a=>{let i=a?.error?.message?.[0]||a?.error?.message||"Error al registrar";this.errorMessage.set(i)}})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=g({type:o,selectors:[["app-register-page"]],decls:26,vars:5,consts:[[1,"max-w-sm","mx-auto","mt-12","p-6","bg-base-200","rounded-xl","shadow-md"],[1,"text-2xl","font-bold","mb-4","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"block","mb-1","font-semibold"],["name","fullName","type","text","placeholder","Tu nombre",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","ejemplo@correo.com",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-full","mt-4"],[1,"mt-4","text-center"],["class","text-error font-semibold",4,"ngIf"],["class","text-success font-semibold",4,"ngIf"],[1,"mt-4","text-center","text-sm"],["routerLink","../login",1,"link","link-primary"],[1,"text-error","font-semibold"],[1,"text-success","font-semibold"]],template:function(i,n){i&1&&(e(0,"section",0)(1,"h2",1),r(2," Crear cuenta "),t(),e(3,"form",2),v("ngSubmit",function(){return n.register()}),e(4,"div")(5,"label",3),r(6,"Nombre completo"),t(),e(7,"input",4),S("ngModelChange",function(s){return w(n.fullName,s)||(n.fullName=s),s}),t()(),e(8,"div")(9,"label",3),r(10,"Email"),t(),e(11,"input",5),S("ngModelChange",function(s){return w(n.email,s)||(n.email=s),s}),t()(),e(12,"div")(13,"label",3),r(14,"Contrase\xF1a"),t(),e(15,"input",6),S("ngModelChange",function(s){return w(n.password,s)||(n.password=s),s}),t()(),e(16,"button",7),r(17," Registrarse "),t()(),e(18,"div",8),A(19,X,2,1,"p",9)(20,$,2,1,"p",10),t(),e(21,"div",11)(22,"span"),r(23,"\xBFYa tienes cuenta?"),t(),e(24,"a",12),r(25,"Iniciar sesi\xF3n"),t()()()),i&2&&(l(7),x("ngModel",n.fullName),l(4),x("ngModel",n.email),l(4),x("ngModel",n.password),l(4),d("ngIf",n.errorMessage()),l(),d("ngIf",n.successMessage()))},dependencies:[B,V,O,P,_,E,N,H,j,G,y],encapsulation:2})};var ee=[{path:"",component:L,children:[{path:"login",component:R},{path:"register",component:F},{path:"**",redirectTo:"login"}]}],Se=ee;export{ee as authRoutes,Se as default};
